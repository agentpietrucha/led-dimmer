{"ast":null,"code":"import { createElement, useRef, useState, useCallback, useEffect, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { useId } from '@reach/auto-id';\nimport { forwardRefWithAs, useControlledSwitchWarning, warning, useForkedRef, useControlledState, useIsomorphicLayoutEffect, useEventCallback, noop, isRightClick, getOwnerDocument, wrapEvent, useCheckStyles, isFunction, makeId, memoWithAs, createNamedContext } from '@reach/utils';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar SliderOrientation;\n\n(function (SliderOrientation) {\n  SliderOrientation[\"Horizontal\"] = \"horizontal\";\n  SliderOrientation[\"Vertical\"] = \"vertical\"; // TODO: Add support for RTL slider\n})(SliderOrientation || (SliderOrientation = {})); // TODO: Remove in 1.0\n\n\nvar SliderHandleAlignment;\n\n(function (SliderHandleAlignment) {\n  // Handle is centered directly over the current value marker\n  SliderHandleAlignment[\"Center\"] = \"center\"; // Handle is contained within the bounds of the track, offset slightly from\n  // the value's center mark to accommodate\n\n  SliderHandleAlignment[\"Contain\"] = \"contain\";\n})(SliderHandleAlignment || (SliderHandleAlignment = {})); // TODO: Remove in 1.0\n\n\nvar SLIDER_ORIENTATION_HORIZONTAL = SliderOrientation.Horizontal;\nvar SLIDER_ORIENTATION_VERTICAL = SliderOrientation.Vertical;\nvar SLIDER_HANDLE_ALIGN_CENTER = SliderHandleAlignment.Center;\nvar SLIDER_HANDLE_ALIGN_CONTAIN = SliderHandleAlignment.Contain;\nvar SliderContext = /*#__PURE__*/createNamedContext(\"SliderContext\", {});\n\nvar useSliderContext = function useSliderContext() {\n  return useContext(SliderContext);\n}; // These proptypes are shared between the composed SliderInput component and the\n// simplified Slider\n\n\nvar sliderPropTypes = {\n  defaultValue: PropTypes.number,\n  disabled: PropTypes.bool,\n  getAriaLabel: PropTypes.func,\n  getAriaValueText: PropTypes.func,\n  getValueText: PropTypes.func,\n  handleAlignment: /*#__PURE__*/PropTypes.oneOf([SliderHandleAlignment.Center, SliderHandleAlignment.Contain]),\n  min: PropTypes.number,\n  max: PropTypes.number,\n  name: PropTypes.string,\n  orientation: /*#__PURE__*/PropTypes.oneOf([SliderOrientation.Horizontal, SliderOrientation.Vertical]),\n  onChange: PropTypes.func,\n  step: PropTypes.number,\n  value: PropTypes.number\n}; ////////////////////////////////////////////////////////////////////////////////\n\n/**\r\n * Slider\r\n *\r\n * @see Docs https://reach.tech/slider#slider\r\n */\n\nvar Slider = /*#__PURE__*/forwardRefWithAs(function Slider(_ref, forwardedRef) {\n  var children = _ref.children,\n      props = _objectWithoutPropertiesLoose(_ref, [\"children\"]);\n\n  return createElement(SliderInput, Object.assign({}, props, {\n    ref: forwardedRef,\n    \"data-reach-slider\": \"\",\n    _componentName: \"Slider\"\n  }), createElement(SliderTrack, null, createElement(SliderRange, null), createElement(SliderHandle, null), children));\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  Slider.displayName = \"Slider\";\n  Slider.propTypes = /*#__PURE__*/_extends({}, sliderPropTypes, {\n    children: PropTypes.node\n  });\n} ////////////////////////////////////////////////////////////////////////////////\n\n/**\r\n * SliderInput\r\n *\r\n * The parent component of the slider interface. This is a lower level component\r\n * if you need more control over styles or rendering the slider's inner\r\n * components.\r\n *\r\n * @see Docs https://reach.tech/slider#sliderinput\r\n */\n\n\nvar SliderInput = /*#__PURE__*/forwardRefWithAs(function SliderInput(_ref2, forwardedRef) {\n  var _rangeStyle;\n\n  var ariaLabel = _ref2[\"aria-label\"],\n      ariaLabelledBy = _ref2[\"aria-labelledby\"],\n      ariaValueTextProp = _ref2[\"aria-valuetext\"],\n      _ref2$as = _ref2.as,\n      Comp = _ref2$as === void 0 ? \"div\" : _ref2$as,\n      defaultValue = _ref2.defaultValue,\n      _ref2$disabled = _ref2.disabled,\n      disabled = _ref2$disabled === void 0 ? false : _ref2$disabled,\n      controlledValue = _ref2.value,\n      getAriaLabel = _ref2.getAriaLabel,\n      getAriaValueText = _ref2.getAriaValueText,\n      DEPRECATED_getValueText = _ref2.getValueText,\n      _ref2$handleAlignment = _ref2.handleAlignment,\n      handleAlignment = _ref2$handleAlignment === void 0 ? SliderHandleAlignment.Center : _ref2$handleAlignment,\n      _ref2$max = _ref2.max,\n      max = _ref2$max === void 0 ? 100 : _ref2$max,\n      _ref2$min = _ref2.min,\n      min = _ref2$min === void 0 ? 0 : _ref2$min,\n      name = _ref2.name,\n      onChange = _ref2.onChange,\n      onKeyDown = _ref2.onKeyDown,\n      onMouseDown = _ref2.onMouseDown,\n      onMouseMove = _ref2.onMouseMove,\n      onMouseUp = _ref2.onMouseUp,\n      onPointerDown = _ref2.onPointerDown,\n      onPointerUp = _ref2.onPointerUp,\n      onTouchEnd = _ref2.onTouchEnd,\n      onTouchMove = _ref2.onTouchMove,\n      onTouchStart = _ref2.onTouchStart,\n      _ref2$orientation = _ref2.orientation,\n      orientation = _ref2$orientation === void 0 ? SliderOrientation.Horizontal : _ref2$orientation,\n      _ref2$step = _ref2.step,\n      step = _ref2$step === void 0 ? 1 : _ref2$step,\n      children = _ref2.children,\n      _ref2$_componentName = _ref2._componentName,\n      _componentName = _ref2$_componentName === void 0 ? \"SliderInput\" : _ref2$_componentName,\n      rest = _objectWithoutPropertiesLoose(_ref2, [\"aria-label\", \"aria-labelledby\", \"aria-valuetext\", \"as\", \"defaultValue\", \"disabled\", \"value\", \"getAriaLabel\", \"getAriaValueText\", \"getValueText\", \"handleAlignment\", \"max\", \"min\", \"name\", \"onChange\", \"onKeyDown\", \"onMouseDown\", \"onMouseMove\", \"onMouseUp\", \"onPointerDown\", \"onPointerUp\", \"onTouchEnd\", \"onTouchMove\", \"onTouchStart\", \"orientation\", \"step\", \"children\", \"_componentName\"]);\n\n  useControlledSwitchWarning(controlledValue, \"value\", _componentName);\n  process.env.NODE_ENV !== \"production\" ? warning(!DEPRECATED_getValueText, \"The `getValueText` prop in @reach/slider is deprecated. Please use `getAriaValueText` instead.\") : void 0;\n  var touchId = useRef();\n  var id = useId(rest.id); // Track whether or not the pointer is down without updating the component\n\n  var pointerDownRef = useRef(false);\n  var trackRef = useRef(null);\n  var handleRef = useRef(null);\n  var sliderRef = useRef(null);\n  var ref = useForkedRef(sliderRef, forwardedRef);\n\n  var _React$useState = useState(false),\n      hasFocus = _React$useState[0],\n      setHasFocus = _React$useState[1];\n\n  var _useDimensions = useDimensions(handleRef),\n      handleDimensions = _objectWithoutPropertiesLoose(_useDimensions, [\"ref\"]);\n\n  var _useControlledState = useControlledState(controlledValue, defaultValue || min),\n      _value = _useControlledState[0],\n      setValue = _useControlledState[1];\n\n  var value = clamp(_value, min, max);\n  var trackPercent = valueToPercent(value, min, max);\n  var isVertical = orientation === SliderOrientation.Vertical;\n  var handleSize = isVertical ? handleDimensions.height : handleDimensions.width; // TODO: Consider removing the `handleAlignment` prop\n  // We may want to use accept a `handlePosition` prop instead and let apps\n  // define their own positioning logic, similar to how we do for popovers.\n\n  var handlePosition = \"calc(\" + trackPercent + \"% - \" + (handleAlignment === SliderHandleAlignment.Center ? handleSize + \"px / 2\" : handleSize + \"px * \" + trackPercent * 0.01) + \")\";\n  var handlePositionRef = useRef(handlePosition);\n  useIsomorphicLayoutEffect(function () {\n    handlePositionRef.current = handlePosition;\n  }, [handlePosition]);\n  var onChangeRef = useRef(onChange);\n  useIsomorphicLayoutEffect(function () {\n    onChangeRef.current = onChange;\n  }, [onChange]);\n  var updateValue = useCallback(function updateValue(newValue) {\n    setValue(newValue);\n\n    if (onChangeRef.current) {\n      // Prevent onChange from recreating the function\n      // TODO: Reonsider the onChange callback API\n      onChangeRef.current(newValue, {\n        min: min,\n        max: max,\n        // Prevent handlePosition from recreating the function\n        handlePosition: handlePositionRef.current\n      });\n    }\n  }, [max, min, setValue]);\n  var getNewValueFromEvent = useCallback(function (event) {\n    return getNewValue(getPointerPosition(event, touchId), trackRef.current, {\n      step: step,\n      orientation: orientation,\n      min: min,\n      max: max\n    });\n  }, [max, min, orientation, step]); // https://www.w3.org/TR/wai-aria-practices-1.2/#slider_kbd_interaction\n\n  var handleKeyDown = useEventCallback(function (event) {\n    if (disabled) {\n      return;\n    }\n\n    var newValue;\n    var tenSteps = (max - min) / 10;\n    var keyStep = step || (max - min) / 100;\n\n    switch (event.key) {\n      // Decrease the value of the slider by one step.\n      case \"ArrowLeft\":\n      case \"ArrowDown\":\n        newValue = value - keyStep;\n        break;\n      // Increase the value of the slider by one step\n\n      case \"ArrowRight\":\n      case \"ArrowUp\":\n        newValue = value + keyStep;\n        break;\n      // Decrement the slider by an amount larger than the step change made by\n      // `ArrowDown`.\n\n      case \"PageDown\":\n        newValue = value - tenSteps;\n        break;\n      // Increment the slider by an amount larger than the step change made by\n      // `ArrowUp`.\n\n      case \"PageUp\":\n        newValue = value + tenSteps;\n        break;\n      // Set the slider to the first allowed value in its range.\n\n      case \"Home\":\n        newValue = min;\n        break;\n      // Set the slider to the last allowed value in its range.\n\n      case \"End\":\n        newValue = max;\n        break;\n\n      default:\n        return;\n    }\n\n    event.preventDefault();\n    newValue = clamp(step ? roundValueToStep(newValue, step, min) : newValue, min, max);\n    updateValue(newValue);\n  });\n  var ariaValueText = DEPRECATED_getValueText ? DEPRECATED_getValueText(value) : getAriaValueText ? getAriaValueText(value) : ariaValueTextProp;\n  var rangeStyle = (_rangeStyle = {}, _rangeStyle[isVertical ? \"height\" : \"width\"] = trackPercent + \"%\", _rangeStyle);\n  var ctx = {\n    ariaLabel: getAriaLabel ? getAriaLabel(value) : ariaLabel,\n    ariaLabelledBy: ariaLabelledBy,\n    ariaValueText: ariaValueText,\n    handleDimensions: handleDimensions,\n    handleKeyDown: handleKeyDown,\n    handlePosition: handlePosition,\n    handleRef: handleRef,\n    hasFocus: hasFocus,\n    onKeyDown: onKeyDown,\n    setHasFocus: setHasFocus,\n    sliderId: id,\n    sliderMax: max,\n    sliderMin: min,\n    value: value,\n    disabled: !!disabled,\n    isVertical: isVertical,\n    orientation: orientation,\n    trackPercent: trackPercent,\n    trackRef: trackRef,\n    rangeStyle: rangeStyle,\n    updateValue: updateValue\n  }; // Slide events!\n  // We will try to use pointer events if they are supported to leverage\n  // setPointerCapture and releasePointerCapture. We'll fall back to separate\n  // mouse and touch events.\n  // TODO: This could be more concise\n\n  var removeMoveEvents = useRef(noop);\n  var removeStartEvents = useRef(noop);\n  var removeEndEvents = useRef(noop); // Store our event handlers in refs so we aren't attaching/detaching events\n  // on every render if the user doesn't useCallback\n\n  var appEvents = useRef({\n    onMouseMove: onMouseMove,\n    onMouseDown: onMouseDown,\n    onMouseUp: onMouseUp,\n    onTouchStart: onTouchStart,\n    onTouchEnd: onTouchEnd,\n    onTouchMove: onTouchMove,\n    onPointerDown: onPointerDown,\n    onPointerUp: onPointerUp\n  });\n  useIsomorphicLayoutEffect(function () {\n    appEvents.current.onMouseMove = onMouseMove;\n    appEvents.current.onMouseDown = onMouseDown;\n    appEvents.current.onMouseUp = onMouseUp;\n    appEvents.current.onTouchStart = onTouchStart;\n    appEvents.current.onTouchEnd = onTouchEnd;\n    appEvents.current.onTouchMove = onTouchMove;\n    appEvents.current.onPointerDown = onPointerDown;\n    appEvents.current.onPointerUp = onPointerUp;\n  }, [onMouseMove, onMouseDown, onMouseUp, onTouchStart, onTouchEnd, onTouchMove, onPointerDown, onPointerUp]);\n  var handleSlideStart = useEventCallback(function (event) {\n    if (isRightClick(event)) return;\n\n    if (disabled) {\n      pointerDownRef.current = false;\n      return;\n    }\n\n    var ownerDocument = getOwnerDocument(sliderRef.current);\n    var ownerWindow = ownerDocument.defaultView || window;\n    pointerDownRef.current = true;\n\n    if (event.changedTouches) {\n      var _event$changedTouches; // Prevent scrolling for touch events\n\n\n      event.preventDefault();\n      var touch = (_event$changedTouches = event.changedTouches) === null || _event$changedTouches === void 0 ? void 0 : _event$changedTouches[0];\n\n      if (touch != null) {\n        touchId.current = touch.identifier;\n      }\n    }\n\n    var newValue = getNewValueFromEvent(event);\n\n    if (newValue == null) {\n      return;\n    }\n\n    ownerWindow.requestAnimationFrame(function () {\n      var _handleRef$current;\n\n      return (_handleRef$current = handleRef.current) === null || _handleRef$current === void 0 ? void 0 : _handleRef$current.focus();\n    });\n    updateValue(newValue);\n    removeMoveEvents.current = addMoveListener();\n    removeEndEvents.current = addEndListener();\n  });\n  var setPointerCapture = useEventCallback(function (event) {\n    var _sliderRef$current;\n\n    if (isRightClick(event)) return;\n\n    if (disabled) {\n      pointerDownRef.current = false;\n      return;\n    }\n\n    pointerDownRef.current = true;\n    (_sliderRef$current = sliderRef.current) === null || _sliderRef$current === void 0 ? void 0 : _sliderRef$current.setPointerCapture(event.pointerId);\n  });\n  var releasePointerCapture = useEventCallback(function (event) {\n    var _sliderRef$current2;\n\n    if (isRightClick(event)) return;\n    (_sliderRef$current2 = sliderRef.current) === null || _sliderRef$current2 === void 0 ? void 0 : _sliderRef$current2.releasePointerCapture(event.pointerId);\n    pointerDownRef.current = false;\n  });\n  var handlePointerMove = useEventCallback(function (event) {\n    if (disabled || !pointerDownRef.current) {\n      pointerDownRef.current = false;\n      return;\n    }\n\n    var newValue = getNewValueFromEvent(event);\n\n    if (newValue == null) {\n      return;\n    }\n\n    updateValue(newValue);\n  });\n  var handleSlideStop = useEventCallback(function (event) {\n    if (isRightClick(event)) return;\n    pointerDownRef.current = false;\n    var newValue = getNewValueFromEvent(event);\n\n    if (newValue == null) {\n      return;\n    }\n\n    touchId.current = undefined;\n    removeMoveEvents.current();\n    removeEndEvents.current();\n  });\n  var addMoveListener = useCallback(function () {\n    var ownerDocument = getOwnerDocument(sliderRef.current);\n    var touchListener = wrapEvent(appEvents.current.onTouchMove, handlePointerMove);\n    var mouseListener = wrapEvent(appEvents.current.onMouseMove, handlePointerMove);\n    ownerDocument.addEventListener(\"touchmove\", touchListener);\n    ownerDocument.addEventListener(\"mousemove\", mouseListener);\n    return function () {\n      ownerDocument.removeEventListener(\"touchmove\", touchListener);\n      ownerDocument.removeEventListener(\"mousemove\", mouseListener);\n    };\n  }, [handlePointerMove]);\n  var addEndListener = useCallback(function () {\n    var ownerDocument = getOwnerDocument(sliderRef.current);\n    var ownerWindow = ownerDocument.defaultView || window;\n    var pointerListener = wrapEvent(appEvents.current.onPointerUp, releasePointerCapture);\n    var touchListener = wrapEvent(appEvents.current.onTouchEnd, handleSlideStop);\n    var mouseListener = wrapEvent(appEvents.current.onMouseUp, handleSlideStop);\n\n    if (\"PointerEvent\" in ownerWindow) {\n      ownerDocument.addEventListener(\"pointerup\", pointerListener);\n    }\n\n    ownerDocument.addEventListener(\"touchend\", touchListener);\n    ownerDocument.addEventListener(\"mouseup\", mouseListener);\n    return function () {\n      if (\"PointerEvent\" in ownerWindow) {\n        ownerDocument.removeEventListener(\"pointerup\", pointerListener);\n      }\n\n      ownerDocument.removeEventListener(\"touchend\", touchListener);\n      ownerDocument.removeEventListener(\"mouseup\", mouseListener);\n    };\n  }, [handleSlideStop, releasePointerCapture]);\n  var addStartListener = useCallback(function () {\n    // e.preventDefault is ignored by React's synthetic touchStart event, so\n    // we attach the listener directly to the DOM node\n    // https://github.com/facebook/react/issues/9809#issuecomment-413978405\n    var sliderElement = sliderRef.current;\n\n    if (!sliderElement) {\n      return noop;\n    }\n\n    var ownerDocument = getOwnerDocument(sliderElement);\n    var ownerWindow = ownerDocument.defaultView || window;\n    var touchListener = wrapEvent(appEvents.current.onTouchStart, handleSlideStart);\n    var mouseListener = wrapEvent(appEvents.current.onMouseDown, handleSlideStart);\n    var pointerListener = wrapEvent(appEvents.current.onPointerDown, setPointerCapture);\n    sliderElement.addEventListener(\"touchstart\", touchListener);\n    sliderElement.addEventListener(\"mousedown\", mouseListener);\n\n    if (\"PointerEvent\" in ownerWindow) {\n      sliderElement.addEventListener(\"pointerdown\", pointerListener);\n    }\n\n    return function () {\n      sliderElement.removeEventListener(\"touchstart\", touchListener);\n      sliderElement.removeEventListener(\"mousedown\", mouseListener);\n\n      if (\"PointerEvent\" in ownerWindow) {\n        sliderElement.removeEventListener(\"pointerdown\", pointerListener);\n      }\n    };\n  }, [setPointerCapture, handleSlideStart]);\n  useEffect(function () {\n    removeStartEvents.current = addStartListener();\n    return function () {\n      removeStartEvents.current();\n      removeEndEvents.current();\n      removeMoveEvents.current();\n    };\n  }, [addStartListener]);\n  useCheckStyles(\"slider\");\n  return createElement(SliderContext.Provider, {\n    value: ctx\n  }, createElement(Comp, Object.assign({}, rest, {\n    ref: ref,\n    \"data-reach-slider-input\": \"\",\n    \"data-disabled\": disabled ? \"\" : undefined,\n    \"data-orientation\": orientation,\n    tabIndex: -1\n  }), isFunction(children) ? children({\n    hasFocus: hasFocus,\n    id: id,\n    max: max,\n    min: min,\n    value: value,\n    ariaValueText: ariaValueText,\n    valueText: ariaValueText\n  }) : children, name && // If the slider is used in a form we'll need an input field to\n  // capture the value. We'll assume this when the component is given a\n  // form field name (A `name` prop doesn't really make sense in any\n  // other context).\n  createElement(\"input\", {\n    type: \"hidden\",\n    value: value,\n    name: name,\n    id: id && makeId(\"input\", id)\n  })));\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  SliderInput.displayName = \"SliderInput\";\n  SliderInput.propTypes = /*#__PURE__*/_extends({}, sliderPropTypes, {\n    children: /*#__PURE__*/PropTypes.oneOfType([PropTypes.node, PropTypes.func]).isRequired\n  });\n} ////////////////////////////////////////////////////////////////////////////////\n\n/**\r\n * SliderTrack\r\n *\r\n * @see Docs https://reach.tech/slider#slidertrack\r\n */\n\n\nvar SliderTrackImpl = /*#__PURE__*/forwardRefWithAs(function SliderTrack(_ref3, forwardedRef) {\n  var _ref3$as = _ref3.as,\n      Comp = _ref3$as === void 0 ? \"div\" : _ref3$as,\n      children = _ref3.children,\n      _ref3$style = _ref3.style,\n      style = _ref3$style === void 0 ? {} : _ref3$style,\n      props = _objectWithoutPropertiesLoose(_ref3, [\"as\", \"children\", \"style\"]);\n\n  var _useSliderContext = useSliderContext(),\n      disabled = _useSliderContext.disabled,\n      orientation = _useSliderContext.orientation,\n      trackRef = _useSliderContext.trackRef;\n\n  var ref = useForkedRef(trackRef, forwardedRef);\n  return createElement(Comp, Object.assign({\n    ref: ref,\n    style: _extends({}, style, {\n      position: \"relative\"\n    })\n  }, props, {\n    \"data-reach-slider-track\": \"\",\n    \"data-disabled\": disabled ? \"\" : undefined,\n    \"data-orientation\": orientation\n  }), children);\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  SliderTrackImpl.displayName = \"SliderTrack\";\n  SliderTrackImpl.propTypes = {\n    children: PropTypes.node.isRequired\n  };\n}\n\nvar SliderTrack = /*#__PURE__*/memoWithAs(SliderTrackImpl);\n\nif (process.env.NODE_ENV !== \"production\") {\n  SliderTrack.displayName = \"SliderTrack\";\n} ////////////////////////////////////////////////////////////////////////////////\n\n/**\r\n * SliderRange\r\n *\r\n * The (typically) highlighted portion of the track that represents the space\r\n * between the slider's `min` value and its current value.\r\n *\r\n * @see Docs https://reach.tech/slider#sliderrange\r\n */\n\n\nvar SliderRangeImpl = /*#__PURE__*/forwardRefWithAs(function SliderRange(_ref4, forwardedRef) {\n  var _ref4$as = _ref4.as,\n      Comp = _ref4$as === void 0 ? \"div\" : _ref4$as,\n      children = _ref4.children,\n      _ref4$style = _ref4.style,\n      style = _ref4$style === void 0 ? {} : _ref4$style,\n      props = _objectWithoutPropertiesLoose(_ref4, [\"as\", \"children\", \"style\"]);\n\n  var _useSliderContext2 = useSliderContext(),\n      disabled = _useSliderContext2.disabled,\n      orientation = _useSliderContext2.orientation,\n      rangeStyle = _useSliderContext2.rangeStyle;\n\n  return createElement(Comp, Object.assign({\n    ref: forwardedRef,\n    style: _extends({\n      position: \"absolute\"\n    }, rangeStyle, style)\n  }, props, {\n    \"data-reach-slider-range\": \"\",\n    \"data-disabled\": disabled ? \"\" : undefined,\n    \"data-orientation\": orientation\n  }));\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  SliderRangeImpl.displayName = \"SliderRange\";\n  SliderRangeImpl.propTypes = {};\n}\n\nvar SliderRange = /*#__PURE__*/memoWithAs(SliderRangeImpl); // TODO: Remove in 1.0\n\nvar SliderTrackHighlightImpl = /*#__PURE__*/forwardRefWithAs(function SliderTrackHighlightImpl(props, ref) {\n  if (process.env.NODE_ENV !== \"production\") {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useEffect(function () {\n      process.env.NODE_ENV !== \"production\" ? warning(false, \"`SliderTrackHighlight` has been deprecated in favor of `SliderRange` and will be dropped from a future version of Reach UI.\") : void 0;\n    }, []);\n  }\n\n  return createElement(SliderRangeImpl, Object.assign({\n    \"data-reach-slider-track-highlight\": \"\"\n  }, props, {\n    ref: ref\n  }));\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  SliderTrackHighlightImpl.displayName = \"SliderTrackHighlight\";\n  SliderTrackHighlightImpl.propTypes = SliderRangeImpl.propTypes;\n}\n/**\r\n * This component was renamed to `SliderRange` in a previous version of Reach\r\n * UI. `SliderTrackHighlight` will be dropped in a future version. We recommend\r\n * updating your projects to replace `SliderTrackHighlight` with `SliderRange`.\r\n *\r\n * @alias SliderRange\r\n */\n\n\nvar SliderTrackHighlight = /*#__PURE__*/memoWithAs(SliderTrackHighlightImpl);\n\nif (process.env.NODE_ENV !== \"production\") {\n  SliderRange.displayName = \"SliderRange\";\n} ////////////////////////////////////////////////////////////////////////////////\n\n/**\r\n * SliderHandle\r\n *\r\n * The handle that the user drags along the track to set the slider value.\r\n *\r\n * @see Docs https://reach.tech/slider#sliderhandle\r\n */\n\n\nvar SliderHandleImpl = /*#__PURE__*/forwardRefWithAs(function SliderHandle(_ref5, forwardedRef) {\n  var _ref5$as = _ref5.as,\n      Comp = _ref5$as === void 0 ? \"div\" : _ref5$as,\n      onBlur = _ref5.onBlur,\n      onFocus = _ref5.onFocus,\n      _ref5$style = _ref5.style,\n      style = _ref5$style === void 0 ? {} : _ref5$style,\n      onKeyDown = _ref5.onKeyDown,\n      props = _objectWithoutPropertiesLoose(_ref5, [\"as\", \"onBlur\", \"onFocus\", \"style\", \"onKeyDown\"]);\n\n  var _useSliderContext3 = useSliderContext(),\n      ariaLabel = _useSliderContext3.ariaLabel,\n      ariaLabelledBy = _useSliderContext3.ariaLabelledBy,\n      ariaValueText = _useSliderContext3.ariaValueText,\n      disabled = _useSliderContext3.disabled,\n      handlePosition = _useSliderContext3.handlePosition,\n      handleRef = _useSliderContext3.handleRef,\n      isVertical = _useSliderContext3.isVertical,\n      handleKeyDown = _useSliderContext3.handleKeyDown,\n      orientation = _useSliderContext3.orientation,\n      setHasFocus = _useSliderContext3.setHasFocus,\n      sliderMin = _useSliderContext3.sliderMin,\n      sliderMax = _useSliderContext3.sliderMax,\n      value = _useSliderContext3.value;\n\n  var ref = useForkedRef(handleRef, forwardedRef);\n  return createElement(Comp, Object.assign({\n    \"aria-disabled\": disabled || undefined,\n    \"aria-label\": ariaLabel,\n    \"aria-labelledby\": ariaLabel ? undefined : ariaLabelledBy,\n    \"aria-orientation\": orientation,\n    \"aria-valuemax\": sliderMax,\n    \"aria-valuemin\": sliderMin,\n    \"aria-valuenow\": value,\n    \"aria-valuetext\": ariaValueText,\n    // The element serving as the focusable slider control has role\n    // `slider`.\n    // https://www.w3.org/TR/wai-aria-practices-1.2/#slider_roles_states_props\n    role: \"slider\",\n    tabIndex: disabled ? -1 : 0\n  }, props, {\n    \"data-reach-slider-handle\": \"\",\n    ref: ref,\n    onBlur: wrapEvent(onBlur, function () {\n      setHasFocus(false);\n    }),\n    onFocus: wrapEvent(onFocus, function () {\n      setHasFocus(true);\n    }),\n    onKeyDown: wrapEvent(onKeyDown, handleKeyDown),\n    style: _extends({\n      position: \"absolute\"\n    }, isVertical ? {\n      bottom: handlePosition\n    } : {\n      left: handlePosition\n    }, style)\n  }));\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  SliderHandleImpl.displayName = \"SliderHandle\";\n  SliderHandleImpl.propTypes = {};\n}\n\nvar SliderHandle = /*#__PURE__*/memoWithAs(SliderHandleImpl);\n\nif (process.env.NODE_ENV !== \"production\") {\n  SliderHandle.displayName = \"SliderHandle\";\n} ////////////////////////////////////////////////////////////////////////////////\n\n/**\r\n * SliderMarker\r\n *\r\n * A fixed value marker. These can be used to illustrate a range of steps or\r\n * highlight important points along the slider track.\r\n *\r\n * @see Docs https://reach.tech/slider#slidermarker\r\n */\n\n\nvar SliderMarkerImpl = /*#__PURE__*/forwardRefWithAs(function SliderMarker(_ref6, forwardedRef) {\n  var _ref6$as = _ref6.as,\n      Comp = _ref6$as === void 0 ? \"div\" : _ref6$as,\n      children = _ref6.children,\n      _ref6$style = _ref6.style,\n      style = _ref6$style === void 0 ? {} : _ref6$style,\n      value = _ref6.value,\n      props = _objectWithoutPropertiesLoose(_ref6, [\"as\", \"children\", \"style\", \"value\"]);\n\n  var _useSliderContext4 = useSliderContext(),\n      disabled = _useSliderContext4.disabled,\n      isVertical = _useSliderContext4.isVertical,\n      orientation = _useSliderContext4.orientation,\n      sliderMin = _useSliderContext4.sliderMin,\n      sliderMax = _useSliderContext4.sliderMax,\n      sliderValue = _useSliderContext4.value;\n\n  var inRange = !(value < sliderMin || value > sliderMax);\n  var absoluteStartPosition = valueToPercent(value, sliderMin, sliderMax) + \"%\";\n  var state = value < sliderValue ? \"under-value\" : value === sliderValue ? \"at-value\" : \"over-value\";\n  return inRange ? createElement(Comp, Object.assign({\n    ref: forwardedRef,\n    style: _extends({\n      position: \"absolute\"\n    }, isVertical ? {\n      bottom: absoluteStartPosition\n    } : {\n      left: absoluteStartPosition\n    }, style)\n  }, props, {\n    \"data-reach-slider-marker\": \"\",\n    \"data-disabled\": disabled ? \"\" : undefined,\n    \"data-orientation\": orientation,\n    \"data-state\": state,\n    \"data-value\": value,\n    children: children\n  })) : null;\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  SliderMarkerImpl.displayName = \"SliderMarker\";\n  SliderMarkerImpl.propTypes = {\n    value: PropTypes.number.isRequired\n  };\n}\n\nvar SliderMarker = /*#__PURE__*/memoWithAs(SliderMarkerImpl);\n\nif (process.env.NODE_ENV !== \"production\") {\n  SliderMarker.displayName = \"SliderMarker\";\n} ////////////////////////////////////////////////////////////////////////////////\n\n\nfunction clamp(val, min, max) {\n  return val > max ? max : val < min ? min : val;\n}\n/**\r\n * This handles the case when num is very small (0.00000001), js will turn\r\n * this into 1e-8. When num is bigger than 1 or less than -1 it won't get\r\n * converted to this notation so it's fine.\r\n *\r\n * @param num\r\n * @see https://github.com/mui-org/material-ui/blob/master/packages/material-ui/src/Slider/Slider.js#L69\r\n */\n\n\nfunction getDecimalPrecision(num) {\n  if (Math.abs(num) < 1) {\n    var parts = num.toExponential().split(\"e-\");\n    var matissaDecimalPart = parts[0].split(\".\")[1];\n    return (matissaDecimalPart ? matissaDecimalPart.length : 0) + parseInt(parts[1], 10);\n  }\n\n  var decimalPart = num.toString().split(\".\")[1];\n  return decimalPart ? decimalPart.length : 0;\n}\n\nfunction percentToValue(percent, min, max) {\n  return (max - min) * percent + min;\n}\n\nfunction roundValueToStep(value, step, min) {\n  var nearest = Math.round((value - min) / step) * step + min;\n  return Number(nearest.toFixed(getDecimalPrecision(step)));\n}\n\nfunction getPointerPosition(event, touchId) {\n  if (touchId.current !== undefined && event.changedTouches) {\n    for (var i = 0; i < event.changedTouches.length; i += 1) {\n      var touch = event.changedTouches[i];\n\n      if (touch.identifier === touchId.current) {\n        return {\n          x: touch.clientX,\n          y: touch.clientY\n        };\n      }\n    }\n\n    return false;\n  }\n\n  return {\n    x: event.clientX,\n    y: event.clientY\n  };\n}\n\nfunction getNewValue(handlePosition, track, props) {\n  var orientation = props.orientation,\n      min = props.min,\n      max = props.max,\n      step = props.step;\n\n  if (!track || !handlePosition) {\n    return null;\n  }\n\n  var _track$getBoundingCli = track.getBoundingClientRect(),\n      left = _track$getBoundingCli.left,\n      width = _track$getBoundingCli.width,\n      bottom = _track$getBoundingCli.bottom,\n      height = _track$getBoundingCli.height;\n\n  var isVertical = orientation === SliderOrientation.Vertical;\n  var diff = isVertical ? bottom - handlePosition.y : handlePosition.x - left;\n  var percent = diff / (isVertical ? height : width);\n  var newValue = percentToValue(percent, min, max);\n  return clamp(step ? roundValueToStep(newValue, step, min) : newValue, min, max);\n}\n\nfunction useDimensions(ref) {\n  var _React$useState2 = useState({\n    width: 0,\n    height: 0\n  }),\n      _React$useState2$ = _React$useState2[0],\n      width = _React$useState2$.width,\n      height = _React$useState2$.height,\n      setDimensions = _React$useState2[1]; // Many existing `useDimensions` type hooks will use `getBoundingClientRect`\n  // getBoundingClientRect does not work here when borders are applied.\n  // getComputedStyle is not as performant so we may want to create a utility to\n  // check for any conflicts with box sizing first and only use\n  // `getComputedStyle` if neccessary.\n\n  /* const { width, height } = ref.current\r\n    ? ref.current.getBoundingClientRect()\r\n    : 0; */\n\n\n  useIsomorphicLayoutEffect(function () {\n    var ownerDocument = getOwnerDocument(ref.current);\n    var ownerWindow = ownerDocument.defaultView || window;\n\n    if (ref.current) {\n      var _ownerWindow$getCompu = ownerWindow.getComputedStyle(ref.current),\n          _newHeight = _ownerWindow$getCompu.height,\n          _newWidth = _ownerWindow$getCompu.width;\n\n      var newHeight = parseFloat(_newHeight);\n      var newWidth = parseFloat(_newWidth);\n\n      if (newHeight !== height || newWidth !== width) {\n        setDimensions({\n          height: newHeight,\n          width: newWidth\n        });\n      }\n    }\n  }, [ref, width, height]);\n  return {\n    ref: ref,\n    width: width,\n    height: height\n  };\n}\n\nfunction valueToPercent(value, min, max) {\n  return (value - min) * 100 / (max - min);\n} ////////////////////////////////////////////////////////////////////////////////\n\n\nexport default Slider;\nexport { SLIDER_HANDLE_ALIGN_CENTER, SLIDER_HANDLE_ALIGN_CONTAIN, SLIDER_ORIENTATION_HORIZONTAL, SLIDER_ORIENTATION_VERTICAL, Slider, SliderHandle, SliderHandleAlignment, SliderInput, SliderMarker, SliderOrientation, SliderRange, SliderTrack, SliderTrackHighlight };","map":{"version":3,"sources":["../src/index.tsx"],"names":["SliderOrientation","SliderHandleAlignment","SLIDER_ORIENTATION_HORIZONTAL","Horizontal","SLIDER_ORIENTATION_VERTICAL","Vertical","SLIDER_HANDLE_ALIGN_CENTER","Center","SLIDER_HANDLE_ALIGN_CONTAIN","Contain","SliderContext","createNamedContext","useSliderContext","React","sliderPropTypes","defaultValue","PropTypes","disabled","getAriaLabel","getAriaValueText","getValueText","handleAlignment","min","max","name","orientation","onChange","step","value","number","Slider","forwardRefWithAs","children","props","ref","forwardedRef","_componentName","node","SliderInput","ariaLabel","ariaLabelledBy","ariaValueTextProp","as","Comp","controlledValue","DEPRECATED_getValueText","onKeyDown","onMouseDown","onMouseMove","onMouseUp","onPointerDown","onPointerUp","onTouchEnd","onTouchMove","onTouchStart","rest","useControlledSwitchWarning","touchId","id","useId","pointerDownRef","trackRef","handleRef","sliderRef","useForkedRef","hasFocus","setHasFocus","handleDimensions","useDimensions","_value","setValue","useControlledState","clamp","trackPercent","valueToPercent","isVertical","handleSize","handlePosition","handlePositionRef","useIsomorphicLayoutEffect","onChangeRef","updateValue","current","getNewValueFromEvent","getNewValue","getPointerPosition","handleKeyDown","useEventCallback","tenSteps","keyStep","event","newValue","roundValueToStep","ariaValueText","rangeStyle","ctx","sliderId","sliderMax","sliderMin","removeMoveEvents","removeStartEvents","removeEndEvents","appEvents","handleSlideStart","isRightClick","ownerDocument","getOwnerDocument","ownerWindow","touch","addMoveListener","addEndListener","setPointerCapture","releasePointerCapture","handlePointerMove","handleSlideStop","touchListener","wrapEvent","mouseListener","pointerListener","addStartListener","sliderElement","useCheckStyles","undefined","tabIndex","valueText","type","makeId","isRequired","SliderTrackImpl","style","position","SliderTrack","memoWithAs","SliderRangeImpl","SliderRange","SliderTrackHighlightImpl","SliderTrackHighlight","SliderHandleImpl","onBlur","onFocus","role","bottom","left","SliderHandle","SliderMarkerImpl","sliderValue","inRange","absoluteStartPosition","state","SliderMarker","val","Math","parts","num","matissaDecimalPart","parseInt","decimalPart","nearest","Number","getDecimalPrecision","i","x","y","clientY","width","height","track","diff","percent","percentToValue","setDimensions","_newHeight","_newWidth","newHeight","parseFloat","newWidth"],"mappings":"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","sourcesContent":["/**\n * Welcome to @reach/slider!\n *\n * A UI input component where the user selects a value from within a given\n * range. A Slider has a handle that can be moved along a track to change its\n * value. When the user's mouse or focus is on the Slider's handle, the value\n * can be incremented with keyboard controls.\n *\n * Random thoughts/notes:\n *  - Currently testing this against the behavior of the native input range\n *    element to get our slider on par. We'll explore animated and multi-handle\n *    sliders next.\n *  - We may want to research some use cases for reversed sliders in RTL\n *    languages if that's a thing\n *\n * @see Docs     https://reach.tech/slider\n * @see Source   https://github.com/reach/reach-ui/tree/main/packages/slider\n * @see WAI-ARIA https://www.w3.org/TR/wai-aria-practices-1.2/#slider\n * @see Example  https://github.com/Stanko/aria-progress-range-slider\n * @see Example  http://www.oaa-accessibility.org/examplep/slider1/\n */\n\n/* eslint-disable jsx-a11y/no-static-element-interactions */\n\nimport * as React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { useId } from \"@reach/auto-id\";\nimport {\n  createNamedContext,\n  forwardRefWithAs,\n  getOwnerDocument,\n  isFunction,\n  isRightClick,\n  makeId,\n  memoWithAs,\n  noop,\n  useCheckStyles,\n  useControlledState,\n  useControlledSwitchWarning,\n  useEventCallback,\n  useForkedRef,\n  useIsomorphicLayoutEffect,\n  warning,\n  wrapEvent,\n} from \"@reach/utils\";\n\n// TODO: Remove in 1.0\ntype SliderAlignment = \"center\" | \"contain\";\n\nenum SliderOrientation {\n  Horizontal = \"horizontal\",\n  Vertical = \"vertical\",\n  // TODO: Add support for RTL slider\n}\n\n// TODO: Remove in 1.0\nenum SliderHandleAlignment {\n  // Handle is centered directly over the current value marker\n  Center = \"center\",\n  // Handle is contained within the bounds of the track, offset slightly from\n  // the value's center mark to accommodate\n  Contain = \"contain\",\n}\n\n// TODO: Remove in 1.0\nconst SLIDER_ORIENTATION_HORIZONTAL = SliderOrientation.Horizontal;\nconst SLIDER_ORIENTATION_VERTICAL = SliderOrientation.Vertical;\nconst SLIDER_HANDLE_ALIGN_CENTER = SliderHandleAlignment.Center;\nconst SLIDER_HANDLE_ALIGN_CONTAIN = SliderHandleAlignment.Contain;\n\nconst SliderContext = createNamedContext<ISliderContext>(\n  \"SliderContext\",\n  {} as ISliderContext\n);\nconst useSliderContext = () => React.useContext(SliderContext);\n\n// These proptypes are shared between the composed SliderInput component and the\n// simplified Slider\nconst sliderPropTypes = {\n  defaultValue: PropTypes.number,\n  disabled: PropTypes.bool,\n  getAriaLabel: PropTypes.func,\n  getAriaValueText: PropTypes.func,\n  getValueText: PropTypes.func,\n  handleAlignment: PropTypes.oneOf([\n    SliderHandleAlignment.Center,\n    SliderHandleAlignment.Contain,\n  ]),\n  min: PropTypes.number,\n  max: PropTypes.number,\n  name: PropTypes.string,\n  orientation: PropTypes.oneOf([\n    SliderOrientation.Horizontal,\n    SliderOrientation.Vertical,\n  ]),\n  onChange: PropTypes.func,\n  step: PropTypes.number,\n  value: PropTypes.number,\n};\n\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * Slider\n *\n * @see Docs https://reach.tech/slider#slider\n */\nconst Slider = forwardRefWithAs<SliderProps, \"div\">(function Slider(\n  { children, ...props },\n  forwardedRef\n) {\n  return (\n    <SliderInput\n      {...props}\n      ref={forwardedRef}\n      data-reach-slider=\"\"\n      _componentName=\"Slider\"\n    >\n      <SliderTrack>\n        <SliderRange />\n        <SliderHandle />\n        {children}\n      </SliderTrack>\n    </SliderInput>\n  );\n});\n\n/**\n * @see Docs https://reach.tech/slider#slider-props\n */\ntype SliderProps = {\n  /**\n   * `Slider` can accept `SliderMarker` children to enhance display of specific\n   * values along the track.\n   *\n   * @see Docs https://reach.tech/slider#slider-children\n   */\n  children?: React.ReactNode;\n  /**\n   * The defaultValue is used to set an initial value for an uncontrolled\n   * Slider.\n   *\n   * @see Docs https://reach.tech/slider#slider-defaultvalue\n   */\n  defaultValue?: number;\n  /**\n   * @see Docs https://reach.tech/slider#slider-disabled\n   */\n  disabled?: boolean;\n  /**\n   * Whether or not the slider should be disabled from user interaction.\n   *\n   * @see Docs https://reach.tech/slider#slider-value\n   */\n  value?: number;\n  /**\n   * A function used to set a human-readable name for the slider.\n   *\n   * @see Docs https://reach.tech/slider#slider-getarialabel\n   */\n  getAriaLabel?(value: number): string;\n  /**\n   * A function used to set a human-readable value text based on the slider's\n   * current value.\n   *\n   * @see Docs https://reach.tech/slider#slider-getariavaluetext\n   */\n  getAriaValueText?(value: number): string;\n  /**\n   * Deprecated. Use `getAriaValueText` instead.\n   *\n   * @deprecated\n   * @param value\n   */\n  getValueText?(value: number): string;\n  /**\n   * When set to `center`, the slider's handle will be positioned directly\n   * centered over the slider's curremt value on the track. This means that when\n   * the slider is at its min or max value, a visiable slider handle will extend\n   * beyond the width (or height in vertical mode) of the slider track. When set\n   * to `contain`, the slider handle will always be contained within the bounds\n   * of the track, meaning its position will be slightly offset from the actual\n   * value depending on where it sits on the track.\n   *\n   * @see Docs https://reach.tech/slider#slider-handlealignment\n   */\n  handleAlignment?: \"center\" | \"contain\" | SliderAlignment;\n  /**\n   * The maximum value of the slider. Defaults to `100`.\n   *\n   * @see Docs https://reach.tech/slider#slider-max\n   */\n  max?: number;\n  /**\n   * The minimum value of the slider. Defaults to `0`.\n   *\n   * @see Docs https://reach.tech/slider#slider-min\n   */\n  min?: number;\n  /**\n   * If the slider is used as a form input, it should accept a `name` prop to\n   * identify its value in context of the form.\n   *\n   * @see Docs https://reach.tech/slider#slider-name\n   */\n  name?: string;\n  /**\n   * Callback that fires when the slider value changes. When the `value` prop is\n   * set, the Slider state becomes controlled and `onChange` must be used to\n   * update the value in response to user interaction.\n   *\n   * @see Docs https://reach.tech/slider#slider-onchange\n   */\n  onChange?(\n    newValue: number,\n    props?: {\n      min?: number;\n      max?: number;\n      handlePosition?: string;\n    }\n  ): void;\n\n  // We use native DOM events for the slider since they are global\n  onMouseDown?(event: MouseEvent): void;\n  onMouseMove?(event: MouseEvent): void;\n  onMouseUp?(event: MouseEvent): void;\n  onPointerDown?(event: PointerEvent): void;\n  onPointerUp?(event: PointerEvent): void;\n  onTouchEnd?(event: TouchEvent): void;\n  onTouchMove?(event: TouchEvent): void;\n  onTouchStart?(event: TouchEvent): void;\n\n  /**\n   * Sets the slider to horizontal or vertical mode.\n   *\n   * @see Docs https://reach.tech/slider#slider-orientation\n   */\n  orientation?: SliderOrientation;\n  /**\n   * The step attribute is a number that specifies the granularity that the\n   * value must adhere to as it changes. Step sets minimum intervals of change,\n   * creating a \"snap\" effect when the handle is moved along the track.\n   *\n   * @see Docs https://reach.tech/slider#slider-step\n   */\n  step?: number;\n};\n\nif (__DEV__) {\n  Slider.displayName = \"Slider\";\n  Slider.propTypes = {\n    ...sliderPropTypes,\n    children: PropTypes.node,\n  };\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * SliderInput\n *\n * The parent component of the slider interface. This is a lower level component\n * if you need more control over styles or rendering the slider's inner\n * components.\n *\n * @see Docs https://reach.tech/slider#sliderinput\n */\nconst SliderInput = forwardRefWithAs<\n  SliderInputProps & { _componentName?: string }\n>(function SliderInput(\n  {\n    \"aria-label\": ariaLabel,\n    \"aria-labelledby\": ariaLabelledBy,\n    \"aria-valuetext\": ariaValueTextProp,\n    as: Comp = \"div\",\n    defaultValue,\n    disabled = false,\n    value: controlledValue,\n    getAriaLabel,\n    getAriaValueText,\n    getValueText: DEPRECATED_getValueText, // TODO: Remove in 1.0\n    handleAlignment = SliderHandleAlignment.Center,\n    max = 100,\n    min = 0,\n    name,\n    onChange,\n    onKeyDown,\n    onMouseDown,\n    onMouseMove,\n    onMouseUp,\n    onPointerDown,\n    onPointerUp,\n    onTouchEnd,\n    onTouchMove,\n    onTouchStart,\n    orientation = SliderOrientation.Horizontal,\n    step = 1,\n    children,\n    _componentName = \"SliderInput\",\n    ...rest\n  },\n  forwardedRef\n) {\n  useControlledSwitchWarning(controlledValue, \"value\", _componentName);\n\n  warning(\n    !DEPRECATED_getValueText,\n    \"The `getValueText` prop in @reach/slider is deprecated. Please use `getAriaValueText` instead.\"\n  );\n\n  let touchId: TouchIdRef = React.useRef();\n\n  let id = useId(rest.id);\n\n  // Track whether or not the pointer is down without updating the component\n  let pointerDownRef = React.useRef(false);\n\n  let trackRef: TrackRef = React.useRef(null);\n  let handleRef: HandleRef = React.useRef(null);\n  let sliderRef: SliderRef = React.useRef(null);\n  let ref = useForkedRef(sliderRef, forwardedRef);\n\n  let [hasFocus, setHasFocus] = React.useState(false);\n\n  let { ref: x, ...handleDimensions } = useDimensions(handleRef);\n\n  let [_value, setValue] = useControlledState(\n    controlledValue,\n    defaultValue || min\n  );\n  let value = clamp(_value, min, max);\n  let trackPercent = valueToPercent(value, min, max);\n  let isVertical = orientation === SliderOrientation.Vertical;\n\n  let handleSize = isVertical\n    ? handleDimensions.height\n    : handleDimensions.width;\n\n  // TODO: Consider removing the `handleAlignment` prop\n  // We may want to use accept a `handlePosition` prop instead and let apps\n  // define their own positioning logic, similar to how we do for popovers.\n  let handlePosition = `calc(${trackPercent}% - ${\n    handleAlignment === SliderHandleAlignment.Center\n      ? `${handleSize}px / 2`\n      : `${handleSize}px * ${trackPercent * 0.01}`\n  })`;\n  let handlePositionRef = React.useRef(handlePosition);\n  useIsomorphicLayoutEffect(() => {\n    handlePositionRef.current = handlePosition;\n  }, [handlePosition]);\n\n  let onChangeRef = React.useRef(onChange);\n  useIsomorphicLayoutEffect(() => {\n    onChangeRef.current = onChange;\n  }, [onChange]);\n  let updateValue = React.useCallback(\n    function updateValue(newValue) {\n      setValue(newValue);\n      if (onChangeRef.current) {\n        // Prevent onChange from recreating the function\n        // TODO: Reonsider the onChange callback API\n        onChangeRef.current(newValue, {\n          min,\n          max,\n          // Prevent handlePosition from recreating the function\n          handlePosition: handlePositionRef.current,\n        });\n      }\n    },\n    [max, min, setValue]\n  );\n\n  let getNewValueFromEvent = React.useCallback(\n    (event: SomePointerEvent) => {\n      return getNewValue(getPointerPosition(event, touchId), trackRef.current, {\n        step,\n        orientation,\n        min,\n        max,\n      });\n    },\n    [max, min, orientation, step]\n  );\n\n  // https://www.w3.org/TR/wai-aria-practices-1.2/#slider_kbd_interaction\n  let handleKeyDown = useEventCallback((event: React.KeyboardEvent) => {\n    if (disabled) {\n      return;\n    }\n\n    let newValue: number;\n    let tenSteps = (max - min) / 10;\n    let keyStep = step || (max - min) / 100;\n\n    switch (event.key) {\n      // Decrease the value of the slider by one step.\n      case \"ArrowLeft\":\n      case \"ArrowDown\":\n        newValue = value - keyStep;\n        break;\n      // Increase the value of the slider by one step\n      case \"ArrowRight\":\n      case \"ArrowUp\":\n        newValue = value + keyStep;\n        break;\n      // Decrement the slider by an amount larger than the step change made by\n      // `ArrowDown`.\n      case \"PageDown\":\n        newValue = value - tenSteps;\n        break;\n      // Increment the slider by an amount larger than the step change made by\n      // `ArrowUp`.\n      case \"PageUp\":\n        newValue = value + tenSteps;\n        break;\n      // Set the slider to the first allowed value in its range.\n      case \"Home\":\n        newValue = min;\n        break;\n      // Set the slider to the last allowed value in its range.\n      case \"End\":\n        newValue = max;\n        break;\n      default:\n        return;\n    }\n\n    event.preventDefault();\n    newValue = clamp(\n      step ? roundValueToStep(newValue, step, min) : newValue,\n      min,\n      max\n    );\n    updateValue(newValue);\n  });\n\n  let ariaValueText = DEPRECATED_getValueText\n    ? DEPRECATED_getValueText(value)\n    : getAriaValueText\n    ? getAriaValueText(value)\n    : ariaValueTextProp;\n\n  let rangeStyle = { [isVertical ? \"height\" : \"width\"]: `${trackPercent}%` };\n\n  let ctx: ISliderContext = {\n    ariaLabel: getAriaLabel ? getAriaLabel(value) : ariaLabel,\n    ariaLabelledBy,\n    ariaValueText,\n    handleDimensions,\n    handleKeyDown,\n    handlePosition,\n    handleRef,\n    hasFocus,\n    onKeyDown,\n    setHasFocus,\n    sliderId: id,\n    sliderMax: max,\n    sliderMin: min,\n    value,\n    disabled: !!disabled,\n    isVertical,\n    orientation,\n    trackPercent,\n    trackRef,\n    rangeStyle,\n    updateValue,\n  };\n\n  // Slide events!\n  // We will try to use pointer events if they are supported to leverage\n  // setPointerCapture and releasePointerCapture. We'll fall back to separate\n  // mouse and touch events.\n  // TODO: This could be more concise\n  let removeMoveEvents = React.useRef<() => void>(noop);\n  let removeStartEvents = React.useRef<() => void>(noop);\n  let removeEndEvents = React.useRef<() => void>(noop);\n\n  // Store our event handlers in refs so we aren't attaching/detaching events\n  // on every render if the user doesn't useCallback\n  let appEvents = React.useRef({\n    onMouseMove,\n    onMouseDown,\n    onMouseUp,\n    onTouchStart,\n    onTouchEnd,\n    onTouchMove,\n    onPointerDown,\n    onPointerUp,\n  });\n  useIsomorphicLayoutEffect(() => {\n    appEvents.current.onMouseMove = onMouseMove;\n    appEvents.current.onMouseDown = onMouseDown;\n    appEvents.current.onMouseUp = onMouseUp;\n    appEvents.current.onTouchStart = onTouchStart;\n    appEvents.current.onTouchEnd = onTouchEnd;\n    appEvents.current.onTouchMove = onTouchMove;\n    appEvents.current.onPointerDown = onPointerDown;\n    appEvents.current.onPointerUp = onPointerUp;\n  }, [onMouseMove, onMouseDown, onMouseUp, onTouchStart, onTouchEnd, onTouchMove, onPointerDown, onPointerUp]);\n\n  let handleSlideStart = useEventCallback((event: SomePointerEvent) => {\n    if (isRightClick(event)) return;\n\n    if (disabled) {\n      pointerDownRef.current = false;\n      return;\n    }\n\n    let ownerDocument = getOwnerDocument(sliderRef.current)!;\n    let ownerWindow = ownerDocument.defaultView || window;\n    pointerDownRef.current = true;\n\n    if ((event as TouchEvent).changedTouches) {\n      // Prevent scrolling for touch events\n      event.preventDefault();\n      let touch = (event as TouchEvent).changedTouches?.[0];\n      if (touch != null) {\n        touchId.current = touch.identifier;\n      }\n    }\n\n    let newValue = getNewValueFromEvent(event);\n    if (newValue == null) {\n      return;\n    }\n    ownerWindow.requestAnimationFrame(() => handleRef.current?.focus());\n    updateValue(newValue);\n\n    removeMoveEvents.current = addMoveListener();\n    removeEndEvents.current = addEndListener();\n  });\n\n  let setPointerCapture = useEventCallback((event: PointerEvent) => {\n    if (isRightClick(event)) return;\n    if (disabled) {\n      pointerDownRef.current = false;\n      return;\n    }\n    pointerDownRef.current = true;\n    sliderRef.current?.setPointerCapture(event.pointerId);\n  });\n\n  let releasePointerCapture = useEventCallback((event: PointerEvent) => {\n    if (isRightClick(event)) return;\n    sliderRef.current?.releasePointerCapture(event.pointerId);\n    pointerDownRef.current = false;\n  });\n\n  let handlePointerMove = useEventCallback((event: SomePointerEvent) => {\n    if (disabled || !pointerDownRef.current) {\n      pointerDownRef.current = false;\n      return;\n    }\n\n    let newValue = getNewValueFromEvent(event);\n    if (newValue == null) {\n      return;\n    }\n    updateValue(newValue);\n  });\n\n  let handleSlideStop = useEventCallback((event: SomePointerEvent) => {\n    if (isRightClick(event)) return;\n\n    pointerDownRef.current = false;\n\n    let newValue = getNewValueFromEvent(event);\n    if (newValue == null) {\n      return;\n    }\n\n    touchId.current = undefined;\n\n    removeMoveEvents.current();\n    removeEndEvents.current();\n  });\n\n  let addMoveListener = React.useCallback(() => {\n    let ownerDocument = getOwnerDocument(sliderRef.current)!;\n    let touchListener = wrapEvent(\n      appEvents.current.onTouchMove,\n      handlePointerMove\n    );\n    let mouseListener = wrapEvent(\n      appEvents.current.onMouseMove,\n      handlePointerMove\n    );\n    ownerDocument.addEventListener(\"touchmove\", touchListener);\n    ownerDocument.addEventListener(\"mousemove\", mouseListener);\n    return () => {\n      ownerDocument.removeEventListener(\"touchmove\", touchListener);\n      ownerDocument.removeEventListener(\"mousemove\", mouseListener);\n    };\n  }, [handlePointerMove]);\n\n  let addEndListener = React.useCallback(() => {\n    let ownerDocument = getOwnerDocument(sliderRef.current)!;\n    let ownerWindow = ownerDocument.defaultView || window;\n    let pointerListener = wrapEvent(\n      appEvents.current.onPointerUp,\n      releasePointerCapture\n    );\n    let touchListener = wrapEvent(\n      appEvents.current.onTouchEnd,\n      handleSlideStop\n    );\n    let mouseListener = wrapEvent(appEvents.current.onMouseUp, handleSlideStop);\n    if (\"PointerEvent\" in ownerWindow) {\n      ownerDocument.addEventListener(\"pointerup\", pointerListener);\n    }\n    ownerDocument.addEventListener(\"touchend\", touchListener);\n    ownerDocument.addEventListener(\"mouseup\", mouseListener);\n    return () => {\n      if (\"PointerEvent\" in ownerWindow) {\n        ownerDocument.removeEventListener(\"pointerup\", pointerListener);\n      }\n      ownerDocument.removeEventListener(\"touchend\", touchListener);\n      ownerDocument.removeEventListener(\"mouseup\", mouseListener);\n    };\n  }, [handleSlideStop, releasePointerCapture]);\n\n  let addStartListener = React.useCallback(() => {\n    // e.preventDefault is ignored by React's synthetic touchStart event, so\n    // we attach the listener directly to the DOM node\n    // https://github.com/facebook/react/issues/9809#issuecomment-413978405\n    let sliderElement = sliderRef.current!;\n    if (!sliderElement) {\n      return noop;\n    }\n\n    let ownerDocument = getOwnerDocument(sliderElement)!;\n    let ownerWindow = ownerDocument.defaultView || window;\n    let touchListener = wrapEvent(\n      appEvents.current.onTouchStart,\n      handleSlideStart\n    );\n    let mouseListener = wrapEvent(\n      appEvents.current.onMouseDown,\n      handleSlideStart\n    );\n    let pointerListener = wrapEvent(\n      appEvents.current.onPointerDown,\n      setPointerCapture\n    );\n    sliderElement.addEventListener(\"touchstart\", touchListener);\n    sliderElement.addEventListener(\"mousedown\", mouseListener);\n    if (\"PointerEvent\" in ownerWindow) {\n      sliderElement.addEventListener(\"pointerdown\", pointerListener);\n    }\n    return () => {\n      sliderElement.removeEventListener(\"touchstart\", touchListener);\n      sliderElement.removeEventListener(\"mousedown\", mouseListener);\n      if (\"PointerEvent\" in ownerWindow) {\n        sliderElement.removeEventListener(\"pointerdown\", pointerListener);\n      }\n    };\n  }, [setPointerCapture, handleSlideStart]);\n\n  React.useEffect(() => {\n    removeStartEvents.current = addStartListener();\n\n    return () => {\n      removeStartEvents.current();\n      removeEndEvents.current();\n      removeMoveEvents.current();\n    };\n  }, [addStartListener]);\n\n  useCheckStyles(\"slider\");\n\n  return (\n    <SliderContext.Provider value={ctx}>\n      <Comp\n        {...rest}\n        ref={ref}\n        data-reach-slider-input=\"\"\n        data-disabled={disabled ? \"\" : undefined}\n        data-orientation={orientation}\n        tabIndex={-1}\n      >\n        {isFunction(children)\n          ? children({\n              hasFocus,\n              id,\n              max,\n              min,\n              value,\n              ariaValueText,\n              valueText: ariaValueText, // TODO: Remove in 1.0\n            })\n          : children}\n        {name && (\n          // If the slider is used in a form we'll need an input field to\n          // capture the value. We'll assume this when the component is given a\n          // form field name (A `name` prop doesn't really make sense in any\n          // other context).\n          <input\n            type=\"hidden\"\n            value={value}\n            name={name}\n            id={id && makeId(\"input\", id)}\n          />\n        )}\n      </Comp>\n    </SliderContext.Provider>\n  );\n});\n\n/**\n * @see Docs https://reach.tech/slider#sliderinput-props\n */\ntype SliderInputProps = Omit<SliderProps, \"children\"> & {\n  /**\n   * Slider expects `<SliderTrack>` as its child; The track will accept all\n   * additional slider sub-components as children. It can also accept a\n   * function/render prop as its child to expose some of its internal state\n   * variables.\n   *\n   * @see Docs https://reach.tech/slider#sliderinput-children\n   */\n  children: React.ReactNode | SliderChildrenRender;\n};\n\nif (__DEV__) {\n  SliderInput.displayName = \"SliderInput\";\n  SliderInput.propTypes = {\n    ...sliderPropTypes,\n    children: PropTypes.oneOfType([PropTypes.node, PropTypes.func]).isRequired,\n  };\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * SliderTrack\n *\n * @see Docs https://reach.tech/slider#slidertrack\n */\nconst SliderTrackImpl = forwardRefWithAs<SliderTrackProps>(function SliderTrack(\n  { as: Comp = \"div\", children, style = {}, ...props },\n  forwardedRef\n) {\n  const { disabled, orientation, trackRef } = useSliderContext();\n  const ref = useForkedRef(trackRef, forwardedRef);\n\n  return (\n    <Comp\n      ref={ref}\n      style={{ ...style, position: \"relative\" }}\n      {...props}\n      data-reach-slider-track=\"\"\n      data-disabled={disabled ? \"\" : undefined}\n      data-orientation={orientation}\n    >\n      {children}\n    </Comp>\n  );\n});\n\nif (__DEV__) {\n  SliderTrackImpl.displayName = \"SliderTrack\";\n  SliderTrackImpl.propTypes = {\n    children: PropTypes.node.isRequired,\n  };\n}\n\nconst SliderTrack = memoWithAs(SliderTrackImpl);\n\n/**\n * @see Docs https://reach.tech/slider#slidertrack-props\n */\ntype SliderTrackProps = {\n  /**\n   * `SliderTrack` expects `<SliderHandle>`, at minimum, for the Slider to\n   * function. All other Slider subcomponents should be passed as children\n   * inside the `SliderTrack`.\n   *\n   * @see Docs https://reach.tech/slider#slidertrack-children\n   */\n  children: React.ReactNode;\n};\n\nif (__DEV__) {\n  SliderTrack.displayName = \"SliderTrack\";\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * SliderRange\n *\n * The (typically) highlighted portion of the track that represents the space\n * between the slider's `min` value and its current value.\n *\n * @see Docs https://reach.tech/slider#sliderrange\n */\nconst SliderRangeImpl = forwardRefWithAs<SliderRangeProps>(function SliderRange(\n  { as: Comp = \"div\", children, style = {}, ...props },\n  forwardedRef\n) {\n  let { disabled, orientation, rangeStyle } = useSliderContext();\n  return (\n    <Comp\n      ref={forwardedRef}\n      style={{ position: \"absolute\", ...rangeStyle, ...style }}\n      {...props}\n      data-reach-slider-range=\"\"\n      data-disabled={disabled ? \"\" : undefined}\n      data-orientation={orientation}\n    />\n  );\n});\n\nif (__DEV__) {\n  SliderRangeImpl.displayName = \"SliderRange\";\n  SliderRangeImpl.propTypes = {};\n}\n\nconst SliderRange = memoWithAs(SliderRangeImpl);\n\n// TODO: Remove in 1.0\nconst SliderTrackHighlightImpl = forwardRefWithAs<SliderRangeProps>(\n  function SliderTrackHighlightImpl(props, ref) {\n    if (__DEV__) {\n      // eslint-disable-next-line react-hooks/rules-of-hooks\n      React.useEffect(() => {\n        warning(\n          false,\n          \"`SliderTrackHighlight` has been deprecated in favor of `SliderRange` and will be dropped from a future version of Reach UI.\"\n        );\n      }, []);\n    }\n    return (\n      <SliderRangeImpl\n        data-reach-slider-track-highlight=\"\"\n        {...props}\n        ref={ref}\n      />\n    );\n  }\n);\nif (__DEV__) {\n  SliderTrackHighlightImpl.displayName = \"SliderTrackHighlight\";\n  SliderTrackHighlightImpl.propTypes = SliderRangeImpl.propTypes;\n}\nexport interface SliderTrackHighlightProps extends SliderRangeProps {}\n\n/**\n * This component was renamed to `SliderRange` in a previous version of Reach\n * UI. `SliderTrackHighlight` will be dropped in a future version. We recommend\n * updating your projects to replace `SliderTrackHighlight` with `SliderRange`.\n *\n * @alias SliderRange\n */\nexport const SliderTrackHighlight = memoWithAs(SliderTrackHighlightImpl);\n\n/**\n * `SliderRange` accepts any props that a HTML div component accepts.\n * `SliderRange` will not accept or render any children.\n *\n * @see Docs https://reach.tech/slider#sliderrange-props\n */\ntype SliderRangeProps = {};\n\nif (__DEV__) {\n  SliderRange.displayName = \"SliderRange\";\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * SliderHandle\n *\n * The handle that the user drags along the track to set the slider value.\n *\n * @see Docs https://reach.tech/slider#sliderhandle\n */\nconst SliderHandleImpl = forwardRefWithAs<SliderHandleProps>(\n  function SliderHandle(\n    {\n      // min,\n      // max,\n      as: Comp = \"div\",\n      onBlur,\n      onFocus,\n      style = {},\n      onKeyDown,\n      ...props\n    },\n    forwardedRef\n  ) {\n    const {\n      ariaLabel,\n      ariaLabelledBy,\n      ariaValueText,\n      disabled,\n      handlePosition,\n      handleRef,\n      isVertical,\n      handleKeyDown,\n      orientation,\n      setHasFocus,\n      sliderMin,\n      sliderMax,\n      value,\n    } = useSliderContext();\n\n    const ref = useForkedRef(handleRef, forwardedRef);\n\n    return (\n      <Comp\n        aria-disabled={disabled || undefined}\n        // If the slider has a visible label, it is referenced by\n        // `aria-labelledby` on the slider element. Otherwise, the slider\n        // element has a label provided by `aria-label`.\n        // https://www.w3.org/TR/wai-aria-practices-1.2/#slider_roles_states_props\n        aria-label={ariaLabel}\n        aria-labelledby={ariaLabel ? undefined : ariaLabelledBy}\n        // If the slider is vertically oriented, it has `aria-orientation` set\n        // to vertical. The default value of `aria-orientation` for a slider is\n        // horizontal.\n        // https://www.w3.org/TR/wai-aria-practices-1.2/#slider_roles_states_props\n        aria-orientation={orientation}\n        // The slider element has the `aria-valuemax` property set to a decimal\n        // value representing the maximum allowed value of the slider.\n        // https://www.w3.org/TR/wai-aria-practices-1.2/#slider_roles_states_props\n        aria-valuemax={sliderMax}\n        // The slider element has the `aria-valuemin` property set to a decimal\n        // value representing the minimum allowed value of the slider.\n        // https://www.w3.org/TR/wai-aria-practices-1.2/#slider_roles_states_props\n        aria-valuemin={sliderMin}\n        // The slider element has the `aria-valuenow` property set to a decimal\n        // value representing the current value of the slider.\n        // https://www.w3.org/TR/wai-aria-practices-1.2/#slider_roles_states_props\n        aria-valuenow={value}\n        // If the value of `aria-valuenow` is not user-friendly, e.g., the day\n        // of the week is represented by a number, the `aria-valuetext` property\n        // is set to a string that makes the slider value understandable, e.g.,\n        // \"Monday\".\n        // https://www.w3.org/TR/wai-aria-practices-1.2/#slider_roles_states_props\n        aria-valuetext={ariaValueText}\n        // The element serving as the focusable slider control has role\n        // `slider`.\n        // https://www.w3.org/TR/wai-aria-practices-1.2/#slider_roles_states_props\n        role=\"slider\"\n        tabIndex={disabled ? -1 : 0}\n        {...props}\n        data-reach-slider-handle=\"\"\n        ref={ref}\n        onBlur={wrapEvent(onBlur, () => {\n          setHasFocus(false);\n        })}\n        onFocus={wrapEvent(onFocus, () => {\n          setHasFocus(true);\n        })}\n        onKeyDown={wrapEvent(onKeyDown, handleKeyDown)}\n        style={{\n          position: \"absolute\",\n          ...(isVertical\n            ? { bottom: handlePosition }\n            : { left: handlePosition }),\n          ...style,\n        }}\n      />\n    );\n  }\n);\n\nif (__DEV__) {\n  SliderHandleImpl.displayName = \"SliderHandle\";\n  SliderHandleImpl.propTypes = {};\n}\n\nconst SliderHandle = memoWithAs(SliderHandleImpl);\n\n/**\n * `SliderRange` accepts any props that a HTML div component accepts.\n *\n * @see Docs https://reach.tech/slider#sliderhandle-props\n */\ntype SliderHandleProps = {};\n\nif (__DEV__) {\n  SliderHandle.displayName = \"SliderHandle\";\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * SliderMarker\n *\n * A fixed value marker. These can be used to illustrate a range of steps or\n * highlight important points along the slider track.\n *\n * @see Docs https://reach.tech/slider#slidermarker\n */\nconst SliderMarkerImpl = forwardRefWithAs<SliderMarkerProps>(\n  function SliderMarker(\n    { as: Comp = \"div\", children, style = {}, value, ...props },\n    forwardedRef\n  ) {\n    const {\n      disabled,\n      isVertical,\n      orientation,\n      sliderMin,\n      sliderMax,\n      value: sliderValue,\n    } = useSliderContext();\n\n    let inRange = !(value < sliderMin || value > sliderMax);\n    let absoluteStartPosition = `${valueToPercent(\n      value,\n      sliderMin,\n      sliderMax\n    )}%`;\n\n    let state =\n      value < sliderValue\n        ? \"under-value\"\n        : value === sliderValue\n        ? \"at-value\"\n        : \"over-value\";\n\n    return inRange ? (\n      <Comp\n        ref={forwardedRef}\n        style={{\n          position: \"absolute\",\n          ...(isVertical\n            ? { bottom: absoluteStartPosition }\n            : { left: absoluteStartPosition }),\n          ...style,\n        }}\n        {...props}\n        data-reach-slider-marker=\"\"\n        data-disabled={disabled ? \"\" : undefined}\n        data-orientation={orientation}\n        data-state={state}\n        data-value={value}\n        children={children}\n      />\n    ) : null;\n  }\n);\n\nif (__DEV__) {\n  SliderMarkerImpl.displayName = \"SliderMarker\";\n  SliderMarkerImpl.propTypes = {\n    value: PropTypes.number.isRequired,\n  };\n}\n\nconst SliderMarker = memoWithAs(SliderMarkerImpl);\n\n/**\n * @see Docs https://reach.tech/slider#slidermarker-props\n */\ntype SliderMarkerProps = {\n  /**\n   * The value to denote where the marker should appear along the track.\n   *\n   * @see Docs https://reach.tech/slider#slidermarker-value\n   */\n  value: number;\n};\n\nif (__DEV__) {\n  SliderMarker.displayName = \"SliderMarker\";\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nfunction clamp(val: number, min: number, max: number) {\n  return val > max ? max : val < min ? min : val;\n}\n\n/**\n * This handles the case when num is very small (0.00000001), js will turn\n * this into 1e-8. When num is bigger than 1 or less than -1 it won't get\n * converted to this notation so it's fine.\n *\n * @param num\n * @see https://github.com/mui-org/material-ui/blob/master/packages/material-ui/src/Slider/Slider.js#L69\n */\nfunction getDecimalPrecision(num: number) {\n  if (Math.abs(num) < 1) {\n    const parts = num.toExponential().split(\"e-\");\n    const matissaDecimalPart = parts[0].split(\".\")[1];\n    return (\n      (matissaDecimalPart ? matissaDecimalPart.length : 0) +\n      parseInt(parts[1], 10)\n    );\n  }\n\n  const decimalPart = num.toString().split(\".\")[1];\n  return decimalPart ? decimalPart.length : 0;\n}\n\nfunction percentToValue(percent: number, min: number, max: number) {\n  return (max - min) * percent + min;\n}\n\nfunction roundValueToStep(value: number, step: number, min: number) {\n  let nearest = Math.round((value - min) / step) * step + min;\n  return Number(nearest.toFixed(getDecimalPrecision(step)));\n}\n\nfunction getPointerPosition(event: SomePointerEvent, touchId: TouchIdRef) {\n  if (touchId.current !== undefined && (event as TouchEvent).changedTouches) {\n    for (let i = 0; i < (event as TouchEvent).changedTouches.length; i += 1) {\n      const touch = (event as TouchEvent).changedTouches[i];\n      if (touch.identifier === touchId.current) {\n        return {\n          x: touch.clientX,\n          y: touch.clientY,\n        };\n      }\n    }\n\n    return false;\n  }\n\n  return {\n    x: (event as PointerEvent | MouseEvent).clientX,\n    y: (event as PointerEvent | MouseEvent).clientY,\n  };\n}\n\nfunction getNewValue(\n  handlePosition:\n    | {\n        x: number;\n        y: number;\n      }\n    | false,\n  track: HTMLElement | null,\n  props: {\n    orientation: SliderOrientation;\n    min: number;\n    max: number;\n    step?: number;\n  }\n) {\n  let { orientation, min, max, step } = props;\n\n  if (!track || !handlePosition) {\n    return null;\n  }\n\n  let { left, width, bottom, height } = track.getBoundingClientRect();\n  let isVertical = orientation === SliderOrientation.Vertical;\n  let diff = isVertical ? bottom - handlePosition.y : handlePosition.x - left;\n  let percent = diff / (isVertical ? height : width);\n  let newValue = percentToValue(percent, min, max);\n\n  return clamp(\n    step ? roundValueToStep(newValue, step, min) : newValue,\n    min,\n    max\n  );\n}\n\nfunction useDimensions(ref: React.RefObject<HTMLElement | null>) {\n  const [{ width, height }, setDimensions] = React.useState({\n    width: 0,\n    height: 0,\n  });\n  // Many existing `useDimensions` type hooks will use `getBoundingClientRect`\n  // getBoundingClientRect does not work here when borders are applied.\n  // getComputedStyle is not as performant so we may want to create a utility to\n  // check for any conflicts with box sizing first and only use\n  // `getComputedStyle` if neccessary.\n  /* const { width, height } = ref.current\n    ? ref.current.getBoundingClientRect()\n    : 0; */\n\n  useIsomorphicLayoutEffect(() => {\n    let ownerDocument = getOwnerDocument(ref.current)!;\n    let ownerWindow = ownerDocument.defaultView || window;\n    if (ref.current) {\n      const {\n        height: _newHeight,\n        width: _newWidth,\n      } = ownerWindow.getComputedStyle(ref.current);\n      let newHeight = parseFloat(_newHeight);\n      let newWidth = parseFloat(_newWidth);\n\n      if (newHeight !== height || newWidth !== width) {\n        setDimensions({ height: newHeight, width: newWidth });\n      }\n    }\n  }, [ref, width, height]);\n  return { ref, width, height };\n}\n\nfunction valueToPercent(value: number, min: number, max: number) {\n  return ((value - min) * 100) / (max - min);\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// Types\n\ntype TrackRef = React.RefObject<HTMLDivElement | null>;\ntype HandleRef = React.RefObject<HTMLDivElement | null>;\ntype SliderRef = React.RefObject<HTMLDivElement | null>;\ntype TouchIdRef = React.MutableRefObject<number | undefined>;\n\ntype SomePointerEvent = TouchEvent | MouseEvent;\n\ninterface ISliderContext {\n  ariaLabel: string | undefined;\n  ariaLabelledBy: string | undefined;\n  ariaValueText: string | undefined;\n  handleDimensions: {\n    width: number;\n    height: number;\n  };\n  handlePosition: string;\n  handleRef: HandleRef;\n  hasFocus: boolean;\n  onKeyDown?: (event: React.KeyboardEvent<HTMLDivElement>) => void;\n  handleKeyDown: (event: React.KeyboardEvent<HTMLDivElement>) => void;\n  setHasFocus: React.Dispatch<React.SetStateAction<boolean>>;\n  sliderId: string | undefined;\n  sliderMax: number;\n  sliderMin: number;\n  value: number;\n  disabled: boolean;\n  isVertical: boolean;\n  orientation: SliderOrientation;\n  trackPercent: number;\n  trackRef: TrackRef;\n  rangeStyle: React.CSSProperties;\n  updateValue: (newValue: any) => void;\n}\n\ntype SliderChildrenRender = (props: {\n  ariaValueText?: string | undefined;\n  hasFocus?: boolean;\n  id?: string | undefined;\n  sliderId?: string | undefined;\n  max?: number;\n  min?: number;\n  value?: number;\n  valueText?: string | undefined; // TODO: Remove in 1.0\n}) => JSX.Element;\n\n////////////////////////////////////////////////////////////////////////////////\n// Exports\n\nexport default Slider;\nexport type {\n  SliderAlignment,\n  SliderHandleProps,\n  SliderInputProps,\n  SliderMarkerProps,\n  SliderProps,\n  SliderRangeProps,\n  SliderTrackProps,\n};\nexport {\n  Slider,\n  SliderHandle,\n  SliderHandleAlignment,\n  SliderInput,\n  SliderMarker,\n  SliderOrientation,\n  SliderTrack,\n  SliderRange,\n  SLIDER_HANDLE_ALIGN_CENTER,\n  SLIDER_HANDLE_ALIGN_CONTAIN,\n  SLIDER_ORIENTATION_HORIZONTAL,\n  SLIDER_ORIENTATION_VERTICAL,\n};\n"]},"metadata":{},"sourceType":"module"}